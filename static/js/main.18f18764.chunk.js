(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(8),c=a.n(r),s=a(13),i=a(86),o=a(174),l=a(176),m=a(171),j=a(44),u=a(3),b=Object(m.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"}}),h=function(e){var t=e.isLogin,a=b();return Object(u.jsxs)(o.a,{className:a.card,children:[Object(u.jsx)("p",{style:{display:"inline"},children:"\xa9Alex Lavallee 2021"}),!t&&Object(u.jsx)(j.b,{to:"/login",style:{float:"right",textDecoration:"none"},children:Object(u.jsx)(l.a,{variant:"outlined",children:"return to login"})})]})},d=a(185),x=a(179),p=a(187),O=a(184),g=a(188),f=a(10),v=Object(m.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"},textField:{"margin-top":"10px","margin-bottom":"10px"}}),y=function(e){var t=e.setInfoWrapper,a=e.username,r=v(),c=Object(n.useState)(a),i=Object(s.a)(c,2),m=i[0],j=i[1],b=Object(n.useState)("Lobby"),y=Object(s.a)(b,2),N=y[0],S=y[1],k=Object(n.useState)("darkTheme"),w=Object(s.a)(k,2),T=w[0],C=w[1],F=Object(n.useState)(""),L=Object(s.a)(F,2),W=L[0],B=L[1],J=Object(n.useState)(!1),M=Object(s.a)(J,2),R=M[0],U=M[1];return Object(u.jsxs)(u.Fragment,{children:[R&&Object(u.jsx)(f.a,{to:"/",push:!0}),Object(u.jsx)(o.a,{variant:"outlined",className:r.card,children:Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!m)return alert("Please enter username");if("Custom"===N){if(!W)return alert("Enter custom room name or select another room");t({username:m,room:W,theme:T})}else t({username:m,room:N,theme:T});U(!0)},children:[Object(u.jsx)(d.a,{className:r.textField,style:{width:"100%"},value:m,onChange:function(e){return j(e.target.value)},label:"Username",variant:"outlined"}),Object(u.jsxs)(x.a,{variant:"outlined",style:{width:"calc(50% - 5px)",marginTop:"10px"},children:[Object(u.jsx)(p.a,{children:"Room"}),Object(u.jsxs)(O.a,{label:"Room",value:N,onChange:function(e){return S(e.target.value)},children:[Object(u.jsx)(g.a,{value:"Lobby",children:"Lobby"}),Object(u.jsx)(g.a,{value:"Breakout 1",children:"Breakout 1"}),Object(u.jsx)(g.a,{value:"Breakout 2",children:"Breakout 2"}),Object(u.jsx)(g.a,{value:"Custom",children:"Custom"})]})]}),Object(u.jsxs)(x.a,{variant:"outlined",style:{width:"calc(50% - 5px)",marginTop:"10px",marginLeft:"10px"},children:[Object(u.jsx)(p.a,{children:"Theme"}),Object(u.jsxs)(O.a,{label:"Theme",value:T,onChange:function(e){return C(e.target.value)},children:[Object(u.jsx)(g.a,{value:"darkTheme",children:"Dark"}),Object(u.jsx)(g.a,{value:"lightTheme",children:"Light"})]})]}),"Custom"===N&&Object(u.jsx)(d.a,{className:r.textField,style:{width:"100%"},value:W,onChange:function(e){return B(e.target.value)},label:"Room Name",variant:"outlined"}),Object(u.jsx)(l.a,{style:{float:"right",marginTop:"10px"},variant:"outlined",type:"submit",children:"Submit"})]})}),Object(u.jsx)(h,{isLogin:!0})]})};y.defaultProps={username:""};var N,S=y,k=Object(m.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),w=function(e){var t=e.sendMessageFunc,a=k(),r=Object(n.useState)(""),c=Object(s.a)(r,2),i=c[0],m=c[1];return Object(u.jsx)(o.a,{variant:"outlined",className:a.card,children:Object(u.jsxs)("form",{className:a.root,onSubmit:function(e){e.preventDefault(),i&&(t(i),m(""))},children:[Object(u.jsx)(d.a,{style:{width:"100%",marginBottom:"10px"},value:i,onChange:function(e){return m(e.target.value)},label:"Message",variant:"outlined"}),Object(u.jsx)(l.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Send"})]})})},T=Object(m.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),C=function(e){var t=e.messages,a=e.username,n=e.sendMessageFunc,r=T();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.a,{className:r.card,children:Object(u.jsx)("pre",{children:t})}),a&&Object(u.jsx)(w,{sendMessageFunc:n}),Object(u.jsx)(h,{isLogin:!1})]})},F=Object(m.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px",minHeight:50},center:{display:"inline",margin:"auto"}}),L=function(e){var t=e.info,a=F();return Object(u.jsxs)(o.a,{className:a.card,children:[Object(u.jsx)("h1",{className:a.center,children:"Chat App"}),t.username&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:a.center,style:{float:"right"},children:"Room: ".concat(t.room)}),Object(u.jsx)("br",{}),Object(u.jsx)("h2",{className:a.center,style:{float:"right"},children:"User: ".concat(t.username)})]})]})},W=a(88),B=a(181),J=a(182),M=a(180),R=Object(i.io)("wss://alextesting.ninja/",{path:"/chatApp/socket"});var U=function(){var e=Object(M.a)(["info"]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),i=Object(s.a)(c,2),o=i[0],l=i[1],m=Object(n.useState)({theme:"darkTheme"}),b=Object(s.a)(m,2),h=b[0],d=b[1];function x(e){if(h.username)if(h.username!==e.username&&h.room===e.room)R.emit("changeName",JSON.stringify({oldName:h.username,newName:e.username}));else if(h.username===e.username&&h.room!==e.room)R.emit("changeRoom",e.room);else{if(h.username===e.username&&h.room===e.room)return;R.emit("changeInfo",JSON.stringify(e))}else R.emit("newUser",JSON.stringify(e));r("info",e,{path:"/",domain:"lavalleeale.github.io",secure:!0}),d(e)}R.removeAllListeners(),R.on("update",(function(e){l(o.split("\n").slice(1).join("\n")+e)})),R.on("newUser",(function(e){l("".concat(o.split("\n").slice(1).join("\n")).concat(e," has joined the chat\n"))})),R.on("changeName",(function(e){N=JSON.parse(e),l("".concat(o.split("\n").slice(1).join("\n")).concat(N.oldName," has changed their name to ").concat(N.newName,"\n"))})),R.on("delUser",(function(e){l("".concat(o.split("\n").slice(1).join("\n")).concat(e," has left the chat\n"))}));var p={darkTheme:Object(W.a)({palette:{type:"dark"}}),lightTheme:Object(W.a)({palette:{type:"light"}})};return Object(u.jsxs)(B.a,{theme:p[h.theme],children:[Object(u.jsx)(J.a,{}),Object(u.jsx)(L,{info:h}),Object(u.jsxs)(j.a,{children:[Object(u.jsxs)(f.b,{exact:!0,path:"/",children:[!h.username&&(a.info?x(a.info):Object(u.jsx)(f.a,{to:"/login",push:!0})),Object(u.jsx)(C,{messages:o,sendMessageFunc:function(e){return function(e){R.emit("sendMessage","".concat(h.username,": ").concat(e,"\n"))}(e)},username:h.username})]}),Object(u.jsx)(f.b,{exact:!0,path:"/login",children:Object(u.jsx)(S,{setInfoWrapper:function(e){return x(e)},username:h.username})})]})]})},A=a(183);c.a.render(Object(u.jsx)(A.a,{children:Object(u.jsx)(U,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.18f18764.chunk.js.map