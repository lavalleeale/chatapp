(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(8),i=n.n(c),s=n(14),r=n(75),o=n(159),l=n(164),j=n(156),d=n(32),m=n(4),u=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"}}),b=function(e){var t=e.isLogin,n=u();return Object(m.jsxs)(o.a,{className:n.card,children:[Object(m.jsx)("p",{style:{display:"inline"},children:"\xa9Alex Lavallee 2021"}),t?Object(m.jsx)(d.b,{to:"/",style:{float:"right","vertical-align":"middle"},children:Object(m.jsx)(l.a,{variant:"outlined",children:"Back"})}):Object(m.jsx)(d.b,{to:"/login",style:{float:"right","vertical-align":"middle"},children:Object(m.jsx)(l.a,{variant:"outlined",children:"Login"})})]})},p=n(163),h=n(10),x=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"},textField:{"margin-top":"10px","margin-bottom":"10px"}}),g=function(e){var t=e.setUsernameWrapper,n=x(),c=Object(a.useState)(""),i=Object(s.a)(c,2),r=i[0],j=i[1],d=Object(a.useState)(!1),u=Object(s.a)(d,2),g=u[0],O=u[1];return Object(m.jsxs)(m.Fragment,{children:[g&&Object(m.jsx)(h.a,{to:"/",push:!0}),Object(m.jsx)(o.a,{variant:"outlined",className:n.card,children:Object(m.jsxs)("form",{className:n.root,onSubmit:function(e){e.preventDefault(),r?(t(r),O(!0)):alert("Please enter username and password")},children:[Object(m.jsx)(p.a,{className:n.textField,style:{width:"95%"},value:r,onChange:function(e){return j(e.target.value)},label:"Username",variant:"outlined"}),Object(m.jsx)(l.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Submit"})]})}),Object(m.jsx)(b,{isLogin:!0})]})},O=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),f=function(e){var t=e.sendMessageFunc,n=O(),c=Object(a.useState)(""),i=Object(s.a)(c,2),r=i[0],j=i[1];return Object(m.jsx)(o.a,{variant:"outlined",className:n.card,children:Object(m.jsxs)("form",{className:n.root,onSubmit:function(e){e.preventDefault(),r&&(t(r),j(""))},children:[Object(m.jsx)(p.a,{style:{width:"100%",marginBottom:"10px"},value:r,onChange:function(e){return j(e.target.value)},label:"Message",variant:"outlined"}),Object(m.jsx)(l.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Send"})]})})},v=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),N=function(e){var t=e.messages,n=e.username,a=e.sendMessageFunc,c=v();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{className:c.card,children:Object(m.jsx)("pre",{children:t})}),n&&Object(m.jsx)(f,{sendMessageFunc:a}),Object(m.jsx)(b,{isLogin:!1})]})},y=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px",minHeight:50},center:{display:"inline",margin:"auto"}}),S=function(e){var t=e.title,n=e.username,a=y();return Object(m.jsxs)(o.a,{className:a.card,children:[Object(m.jsx)("h1",{className:a.center,children:t}),n&&Object(m.jsx)("h2",{className:a.center,style:{float:"right"},children:n})]})};S.defaultProps={title:"Chat App"};var w,F=S,W=n(77),L=n(161),M=n(162),U=Object(r.io)("wss://alextesting.ninja/",{path:"/chatApp/socket"});var k=function(){var e=Object(a.useState)("\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),r=Object(s.a)(i,2),o=r[0],l=r[1];U.removeAllListeners(),U.on("update",(function(e){c(n.split("\n").slice(1).join("\n")+e)})),U.on("newUser",(function(e){c("".concat(n.split("\n").slice(1).join("\n")).concat(e," has joined the chat\n"))})),U.on("changeName",(function(e){w=JSON.parse(e),c("".concat(n.split("\n").slice(1).join("\n")).concat(w.oldName," has changed their name to ").concat(w.newName,"\n"))})),U.on("delUser",(function(e){c("".concat(n.split("\n").slice(1).join("\n")).concat(e," has left the chat\n"))}));var j=Object(W.a)({palette:{type:"dark"}});return Object(m.jsxs)(L.a,{theme:j,children:[Object(m.jsx)(M.a,{}),Object(m.jsx)(F,{username:o}),Object(m.jsxs)(d.a,{children:[Object(m.jsx)(h.b,{exact:!0,path:"/",children:Object(m.jsx)(N,{messages:n,sendMessageFunc:function(e){return function(e){U.emit("sendMessage","".concat(o,": ").concat(e,"\n"))}(e)},username:o})}),Object(m.jsx)(h.b,{exact:!0,path:"/login",children:Object(m.jsx)(g,{setUsernameWrapper:function(e){return function(e){o?U.emit("changeName",JSON.stringify({oldName:o,newName:e})):U.emit("newUser",e),l(e)}(e)}})})]})]})};i.a.render(Object(m.jsx)(k,{}),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.f76f37f2.chunk.js.map