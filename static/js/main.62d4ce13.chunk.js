(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(8),r=n.n(c),s=n(13),i=n(86),o=n(174),l=n(176),j=n(171),u=n(44),m=n(3),b=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"}}),d=function(e){var t=e.isLogin,n=b();return Object(m.jsxs)(o.a,{className:n.card,children:[Object(m.jsx)("p",{style:{display:"inline"},children:"\xa9Alex Lavallee 2021"}),!t&&Object(m.jsx)(u.b,{to:"/login",style:{float:"right"},children:Object(m.jsx)(l.a,{variant:"outlined",children:"return to login"})})]})},h=n(185),x=n(179),p=n(187),O=n(184),g=n(188),f=n(10),v=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"},textField:{"margin-top":"10px","margin-bottom":"10px"}}),y=function(e){var t=e.setInfoWrapper,n=e.username,c=v(),r=Object(a.useState)(n),i=Object(s.a)(r,2),j=i[0],u=i[1],b=Object(a.useState)("Lobby"),y=Object(s.a)(b,2),N=y[0],S=y[1],w=Object(a.useState)(""),F=Object(s.a)(w,2),C=F[0],k=F[1],L=Object(a.useState)(!1),W=Object(s.a)(L,2),B=W[0],J=W[1];return Object(m.jsxs)(m.Fragment,{children:[B&&Object(m.jsx)(f.a,{to:"/",push:!0}),Object(m.jsx)(o.a,{variant:"outlined",className:c.card,children:Object(m.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!j)return alert("Please enter username");if("Custom"===N){if(!C)return alert("Enter custom room name or select another room");t({username:j,room:C})}else t({username:j,room:N});J(!0)},children:[Object(m.jsx)(h.a,{className:c.textField,style:{width:"60%"},value:j,onChange:function(e){return u(e.target.value)},label:"Username",variant:"outlined"}),Object(m.jsxs)(x.a,{variant:"outlined",style:{width:"calc(40% - 10px)",margin:"10px 0 0 10px"},children:[Object(m.jsx)(p.a,{children:"Room"}),Object(m.jsxs)(O.a,{label:"Room",value:N,onChange:function(e){return S(e.target.value)},children:[Object(m.jsx)(g.a,{value:"Lobby",children:"Lobby"}),Object(m.jsx)(g.a,{value:"Breakout 1",children:"Breakout 1"}),Object(m.jsx)(g.a,{value:"Breakout 2",children:"Breakout 2"}),Object(m.jsx)(g.a,{value:"Custom",children:"Custom"})]})]}),"Custom"===N&&Object(m.jsx)(h.a,{className:c.textField,style:{width:"100%"},value:C,onChange:function(e){return k(e.target.value)},label:"Room Name",variant:"outlined"}),Object(m.jsx)(l.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Submit"})]})}),Object(m.jsx)(d,{isLogin:!0})]})};y.defaultProps={username:""};var N,S=y,w=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),F=function(e){var t=e.sendMessageFunc,n=w(),c=Object(a.useState)(""),r=Object(s.a)(c,2),i=r[0],j=r[1];return Object(m.jsx)(o.a,{variant:"outlined",className:n.card,children:Object(m.jsxs)("form",{className:n.root,onSubmit:function(e){e.preventDefault(),i&&(t(i),j(""))},children:[Object(m.jsx)(h.a,{style:{width:"100%",marginBottom:"10px"},value:i,onChange:function(e){return j(e.target.value)},label:"Message",variant:"outlined"}),Object(m.jsx)(l.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Send"})]})})},C=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),k=function(e){var t=e.messages,n=e.username,a=e.sendMessageFunc,c=C();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{className:c.card,children:Object(m.jsx)("pre",{children:t})}),n&&Object(m.jsx)(F,{sendMessageFunc:a}),Object(m.jsx)(d,{isLogin:!1})]})},L=Object(j.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px",minHeight:50},center:{display:"inline",margin:"auto"}}),W=function(e){var t=e.info,n=L();return Object(m.jsxs)(o.a,{className:n.card,children:[Object(m.jsx)("h1",{className:n.center,children:"Chat App"}),t.username&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{className:n.center,style:{float:"right"},children:"Room: ".concat(t.room)}),Object(m.jsx)("br",{}),Object(m.jsx)("h2",{className:n.center,style:{float:"right"},children:"User: ".concat(t.username)})]})]})},B=n(88),J=n(181),M=n(182),R=n(180),U=Object(i.io)("wss://alextesting.ninja/",{path:"/chatApp/socket"});var A=function(){var e=Object(R.a)(["info"]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),i=Object(s.a)(r,2),o=i[0],l=i[1],j=Object(a.useState)({}),b=Object(s.a)(j,2),d=b[0],h=b[1];U.removeAllListeners(),U.on("update",(function(e){l(o.split("\n").slice(1).join("\n")+e)})),U.on("newUser",(function(e){l("".concat(o.split("\n").slice(1).join("\n")).concat(e," has joined the chat\n"))})),U.on("changeName",(function(e){N=JSON.parse(e),l("".concat(o.split("\n").slice(1).join("\n")).concat(N.oldName," has changed their name to ").concat(N.newName,"\n"))})),U.on("delUser",(function(e){l("".concat(o.split("\n").slice(1).join("\n")).concat(e," has left the chat\n"))}));var x=Object(B.a)({palette:{type:"dark"}});return Object(m.jsxs)(J.a,{theme:x,children:[Object(m.jsx)(M.a,{}),Object(m.jsx)(W,{info:d}),Object(m.jsxs)(u.a,{children:[Object(m.jsxs)(f.b,{exact:!0,path:"/",children:[!d.username&&(n.info?h(n.info):Object(m.jsx)(f.a,{to:"/login",push:!0})),Object(m.jsx)(k,{messages:o,sendMessageFunc:function(e){return function(e){U.emit("sendMessage","".concat(d.username,": ").concat(e,"\n"))}(e)},username:d.username})]}),Object(m.jsx)(f.b,{exact:!0,path:"/login",children:Object(m.jsx)(S,{setInfoWrapper:function(e){return function(e){d.username?d.username!==e.username&&d.room===e.room?U.emit("changeName",JSON.stringify({oldName:d.username,newName:e.username})):d.username===e.username&&d.room!==e.room?U.emit("changeRoom",e.room):U.emit("changeInfo",JSON.stringify(e)):U.emit("newUser",JSON.stringify(e)),c("info",e,{path:"/",domain:"localhost",secure:!0}),h(e)}(e)},username:d.username})})]})]})},I=n(183);r.a.render(Object(m.jsx)(I.a,{children:Object(m.jsx)(A,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.62d4ce13.chunk.js.map