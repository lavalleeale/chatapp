(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(8),c=a.n(r),s=a(183),i=a(13),o=a(86),l=a(88),m=a(181),j=a(182),u=a(44),d=a(10),h=a(180),b=a(174),x=a(171),O=a(3),p=Object(x.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px",minHeight:50},center:{display:"inline",margin:"auto"}}),g=function(e){var t=e.info,a=p();return Object(O.jsxs)(b.a,{className:a.card,children:[Object(O.jsx)("h1",{className:a.center,children:"Chat App"}),t.username&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{className:a.center,style:{float:"right"},children:"Room: ".concat(t.room)}),Object(O.jsx)("br",{}),Object(O.jsx)("h2",{className:a.center,style:{float:"right"},children:"User: ".concat(t.username)})]})]})},f=a(176),v=Object(x.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"}}),y=function(e){var t=e.isLogin,a=v();return Object(O.jsxs)(b.a,{className:a.card,children:[Object(O.jsx)("p",{style:{display:"inline"},children:"\xa9Alex Lavallee 2021"}),!t&&Object(O.jsx)(u.b,{to:"/login",style:{float:"right",textDecoration:"none"},children:Object(O.jsx)(f.a,{variant:"outlined",children:"return to login"})})]})},N=a(185),w=Object(x.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),S=function(e){var t=e.sendMessageFunc,a=w(),r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1];return Object(O.jsx)(b.a,{variant:"outlined",className:a.card,children:Object(O.jsxs)("form",{className:a.root,onSubmit:function(e){e.preventDefault(),s&&(t(s),o(""))},children:[Object(O.jsx)(N.a,{style:{width:"100%",marginBottom:"10px"},value:s,onChange:function(e){return o(e.target.value)},label:"Message",variant:"outlined"}),Object(O.jsx)(f.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Send"})]})})},T=Object(x.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),k=function(e){var t=e.messages,a=e.sendMessageFunc,n=T();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{className:n.card,children:Object(O.jsx)("pre",{children:t})}),Object(O.jsx)(S,{sendMessageFunc:a}),Object(O.jsx)(y,{isLogin:!1})]})},C=a(179),L=a(187),F=a(184),W=a(188),U=Object(x.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"},textField:{"margin-top":"10px","margin-bottom":"10px"}}),I=!1,J=!1,B=function(e){var t=e.setInfoWrapper,a=e.username,r=e.mainTheme,c=e.serverInfo,s=U(),o=Object(n.useState)(a),l=Object(i.a)(o,2),m=l[0],j=l[1],u=Object(n.useState)("Lobby"),h=Object(i.a)(u,2),x=h[0],p=h[1],g=Object(n.useState)(r),v=Object(i.a)(g,2),w=v[0],S=v[1],T=Object(n.useState)(""),k=Object(i.a)(T,2),B=k[0],M=k[1],R=Object(n.useState)(!1),A=Object(i.a)(R,2),D=A[0],q=A[1];return J=!1,m!==a&&(c.forEach((function(e){if(m.toLowerCase()===e.username.toLowerCase()&&!I)return I=!0,void(J=!0)})),I&&!J&&(I=!1)),Object(O.jsxs)(O.Fragment,{children:[D&&Object(O.jsx)(d.a,{to:"",push:!0}),Object(O.jsx)(b.a,{variant:"outlined",className:s.card,children:Object(O.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),t("Custom"===x?{username:m,room:B,theme:w}:{username:m,room:x,theme:w}),q(!0)},children:[Object(O.jsx)(N.a,{error:I,helperText:I&&"Username in use",required:!0,className:s.textField,style:{width:"100%"},value:m,onChange:function(e){return j(e.target.value)},label:"Username",variant:"outlined"}),Object(O.jsxs)(C.a,{variant:"outlined",style:{width:"calc(50% - 5px)",marginTop:"10px"},children:[Object(O.jsx)(L.a,{children:"Room"}),Object(O.jsxs)(F.a,{label:"Room",value:x,onChange:function(e){return p(e.target.value)},children:[Object(O.jsx)(W.a,{value:"Lobby",children:"Lobby"}),Object(O.jsx)(W.a,{value:"Breakout 1",children:"Breakout 1"}),Object(O.jsx)(W.a,{value:"Breakout 2",children:"Breakout 2"}),Object(O.jsx)(W.a,{value:"Custom",children:"Custom"})]})]}),Object(O.jsxs)(C.a,{variant:"outlined",style:{width:"calc(50% - 5px)",marginTop:"10px",marginLeft:"10px"},children:[Object(O.jsx)(L.a,{children:"Theme"}),Object(O.jsxs)(F.a,{label:"Theme",value:w,onChange:function(e){return S(e.target.value)},children:[Object(O.jsx)(W.a,{value:"darkTheme",children:"Dark"}),Object(O.jsx)(W.a,{value:"lightTheme",children:"Light"})]})]}),"Custom"===x&&Object(O.jsx)(N.a,{required:!0,className:s.textField,style:{width:"100%"},value:B,onChange:function(e){return M(e.target.value)},label:"Room Name",variant:"outlined"}),Object(O.jsx)(f.a,{disabled:I,style:{float:"right",marginTop:"10px"},variant:"outlined",type:"submit",children:"Submit"})]})}),!!c.length&&Object(O.jsxs)(b.a,{className:s.card,children:[Object(O.jsx)("h2",{children:" Online Users: "}),c.map((function(e){return Object(O.jsxs)("div",{style:{overflow:"hidden"},children:[Object(O.jsx)("p",{style:{float:"left"},children:"User: ".concat(e.username)}),Object(O.jsx)("p",{style:{float:"right"},children:"Room: ".concat(e.room)})]},e.username)}))]}),Object(O.jsx)(y,{isLogin:!0})]})};B.defaultProps={username:"",mainTheme:"darkTheme"};var M,R=B,A=Object(o.io)("wss://alextesting.ninja/",{path:"/chatApp/socket"});var D=function(){var e=Object(h.a)(["info"]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("\n".repeat(window.outerWidth/50)),s=Object(i.a)(c,2),o=s[0],b=s[1],x=Object(n.useState)({theme:"darkTheme"}),p=Object(i.a)(x,2),f=p[0],v=p[1],y=Object(n.useState)([]),N=Object(i.a)(y,2),w=N[0],S=N[1];function T(e){return r("info",e,{path:"/",domain:window.location.host,secure:!0}),v(e),f.username?f.username!==e.username&&f.room===e.room?A.emit("changeName",JSON.stringify({oldName:f.username,newName:e.username})):f.username===e.username&&f.room!==e.room?A.emit("changeRoom",e.room):f.username===e.username&&f.room===e.room||A.emit("changeInfo",JSON.stringify(e)):A.emit("newUser",JSON.stringify(e))}A.removeAllListeners(),A.on("update",(function(e){b(o.split("\n").slice(1).join("\n")+e)})),A.on("newUser",(function(e){b("".concat(o.split("\n").slice(1).join("\n")).concat(e," has joined the chat\n"))})),A.on("changeName",(function(e){M=JSON.parse(e),b("".concat(o.split("\n").slice(1).join("\n")).concat(M.oldName," has changed their name to ").concat(M.newName,"\n"))})),A.on("delUser",(function(e){b("".concat(o.split("\n").slice(1).join("\n")).concat(e," has left the chat\n"))})),A.on("serverInfo",(function(e){S(JSON.parse(e))}));var C={darkTheme:Object(l.a)({palette:{type:"dark"}}),lightTheme:Object(l.a)({palette:{type:"light"}})};return Object(O.jsxs)(m.a,{theme:C[f.theme],children:[Object(O.jsx)(j.a,{}),Object(O.jsx)(g,{info:f}),Object(O.jsxs)(u.a,{children:[Object(O.jsxs)(d.b,{exact:!0,path:"/",children:[!f.username&&(a.info?T(a.info):Object(O.jsx)(d.a,{to:"login",push:!0})),Object(O.jsx)(k,{messages:o,sendMessageFunc:function(e){return function(e){"/clear"===e?b("\n".repeat(window.outerWidth/50)):A.emit("sendMessage","".concat(f.username,": ").concat(e,"\n"))}(e)},username:f.username})]}),Object(O.jsx)(d.b,{exact:!0,path:"/login",children:Object(O.jsx)(R,{setInfoWrapper:function(e){return T(e)},username:f.username,mainTheme:f.theme,serverInfo:w})})]})]})};c.a.render(Object(O.jsx)(s.a,{children:Object(O.jsx)(D,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.10a7b942.chunk.js.map