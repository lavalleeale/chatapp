(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n(8),s=n.n(r),i=n(13),o=n(83),l=n(170),j=n(172),u=n(167),m=n(36),b=n(3),d=Object(u.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"}}),h=function(e){var t=e.isLogin,n=d();return Object(b.jsxs)(l.a,{className:n.card,children:[Object(b.jsx)("p",{style:{display:"inline"},children:"\xa9Alex Lavallee 2021"}),t?Object(b.jsx)(m.b,{to:"/",style:{float:"right"},children:Object(b.jsx)(j.a,{variant:"outlined",children:"Back"})}):Object(b.jsx)(m.b,{to:"/login",style:{float:"right"},children:Object(b.jsx)(j.a,{variant:"outlined",children:"Login"})})]})},x=n(179),O=n(175),p=n(181),g=n(178),f=n(182),v=n(10),y=Object(u.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"30px"},textField:{"margin-top":"10px","margin-bottom":"10px"}}),N=function(e){var t=e.setInfoWrapper,n=e.username,a=y(),r=Object(c.useState)(n),s=Object(i.a)(r,2),o=s[0],u=s[1],m=Object(c.useState)("Lobby"),d=Object(i.a)(m,2),N=d[0],S=d[1],w=Object(c.useState)(""),F=Object(i.a)(w,2),k=F[0],C=F[1],L=Object(c.useState)(!1),B=Object(i.a)(L,2),W=B[0],J=B[1];return Object(b.jsxs)(b.Fragment,{children:[W&&Object(b.jsx)(v.a,{to:"/",push:!0}),Object(b.jsx)(l.a,{variant:"outlined",className:a.card,children:Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!o)return alert("Please enter username");if("Custom"===N){if(!k)return alert("Enter custom room name or select another room");t({username:o,room:k})}else t({username:o,room:N});J(!0)},children:[Object(b.jsx)(x.a,{className:a.textField,style:{width:"60%"},value:o,onChange:function(e){return u(e.target.value)},label:"Username",variant:"outlined"}),Object(b.jsxs)(O.a,{variant:"outlined",style:{width:"calc(40% - 10px)",margin:"10px 0 0 10px"},children:[Object(b.jsx)(p.a,{children:"Room"}),Object(b.jsxs)(g.a,{label:"Room",value:N,onChange:function(e){return S(e.target.value)},children:[Object(b.jsx)(f.a,{value:"Lobby",children:"Lobby"}),Object(b.jsx)(f.a,{value:"Breakout 1",children:"Breakout 1"}),Object(b.jsx)(f.a,{value:"Breakout 2",children:"Breakout 2"}),Object(b.jsx)(f.a,{value:"Custom",children:"Custom"})]})]}),"Custom"===N&&Object(b.jsx)(x.a,{className:a.textField,style:{width:"100%"},value:k,onChange:function(e){return C(e.target.value)},label:"Room Name",variant:"outlined"}),Object(b.jsx)(j.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Submit"})]})}),Object(b.jsx)(h,{isLogin:!0})]})},S=Object(u.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),w=function(e){var t=e.sendMessageFunc,n=S(),a=Object(c.useState)(""),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(b.jsx)(l.a,{variant:"outlined",className:n.card,children:Object(b.jsxs)("form",{className:n.root,onSubmit:function(e){e.preventDefault(),s&&(t(s),o(""))},children:[Object(b.jsx)(x.a,{style:{width:"100%",marginBottom:"10px"},value:s,onChange:function(e){return o(e.target.value)},label:"Message",variant:"outlined"}),Object(b.jsx)(j.a,{style:{float:"right"},variant:"outlined",type:"submit",children:"Send"})]})})},F=Object(u.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px"}}),k=function(e){var t=e.messages,n=e.username,a=e.sendMessageFunc,c=F();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.a,{className:c.card,children:Object(b.jsx)("pre",{children:t})}),n&&Object(b.jsx)(w,{sendMessageFunc:a}),Object(b.jsx)(h,{isLogin:!1})]})},C=Object(u.a)({card:{margin:"auto","margin-top":"10px","margin-bottom":"10px",maxWidth:500,padding:"10px",minHeight:50},center:{display:"inline",margin:"auto"}}),L=function(e){var t=e.info,n=C();return Object(b.jsxs)(l.a,{className:n.card,children:[Object(b.jsx)("h1",{className:n.center,children:"Chat App"}),t.username&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:n.center,style:{float:"right"},children:"Room: ".concat(t.room)}),Object(b.jsx)("br",{}),Object(b.jsx)("h2",{className:n.center,style:{float:"right"},children:"User: ".concat(t.username)})]})]})},B=n(85),W=n(176),J=n(177),M=Object(o.io)("wss://alextesting.ninja/",{path:"/chatApp/socket"});var R=function(){var e=Object(c.useState)("\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)({}),o=Object(i.a)(s,2),l=o[0],j=o[1];M.removeAllListeners(),M.on("update",(function(e){r(n.split("\n").slice(1).join("\n")+e)})),M.on("newUser",(function(e){r("".concat(n.split("\n").slice(1).join("\n")).concat(e," has joined the chat\n"))})),M.on("changeName",(function(e){a=JSON.parse(e),r("".concat(n.split("\n").slice(1).join("\n")).concat(a.oldName," has changed their name to ").concat(a.newName,"\n"))})),M.on("delUser",(function(e){r("".concat(n.split("\n").slice(1).join("\n")).concat(e," has left the chat\n"))}));var u=Object(B.a)({palette:{type:"dark"}});return Object(b.jsxs)(W.a,{theme:u,children:[Object(b.jsx)(J.a,{}),Object(b.jsx)(L,{info:l}),Object(b.jsxs)(m.a,{children:[Object(b.jsxs)(v.b,{exact:!0,path:"/",children:[!l.username&&Object(b.jsx)(v.a,{to:"/login",push:!0}),Object(b.jsx)(k,{messages:n,sendMessageFunc:function(e){return function(e){M.emit("sendMessage","".concat(l.username,": ").concat(e,"\n"))}(e)},username:l.username})]}),Object(b.jsx)(v.b,{exact:!0,path:"/login",children:Object(b.jsx)(N,{setInfoWrapper:function(e){return function(e){l.username?l.username!==e.username&&l.room===e.room?M.emit("changeName",JSON.stringify({oldName:l.username,newName:e.username})):l.username===e.username&&l.room!==e.room?M.emit("changeRoom",e.room):M.emit("changeInfo",JSON.stringify(e)):M.emit("newUser",JSON.stringify(e)),j(e)}(e)},username:l.username})})]})]})};s.a.render(Object(b.jsx)(R,{}),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.0ad1b309.chunk.js.map